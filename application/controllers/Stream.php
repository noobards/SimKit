<?phpdefined('BASEPATH') OR exit('No direct script access allowed');class Stream extends CI_Controller {		public function __construct()	{        parent::__construct();        $this->load->model("Team");        $this->load->model("StreamModel");    }	public function index()	{		$this->match();	}	public function match()	{		$qs = $this->uri->uri_to_assoc(3, array('key'));				$key = trim($qs['key']);		if(strlen($key) > 0)		{			$keyValidity = $this->StreamModel->isValidKey($key);			if($keyValidity['status'] == 'OK')			{								if($keyValidity['result']->match_completed == 1)				{					$data['status'] = 'NOTOK';					$data['msg'] = 'This match has already been completed.';				}				else				{					$matchValidity = $this->StreamModel->doesMatchExists($keyValidity['result']->mid);					if($matchValidity['status'] == 'OK')					{						$data['status'] = 'OK';						$data['match_center'] = $matchValidity['result'];						$data['home_label'] = $this->Team->getTeamName($matchValidity['result']->home);						$data['away_label'] = $this->Team->getTeamName($matchValidity['result']->away);						$data['toss_won_by'] = $this->Team->getTeamName($matchValidity['result']->toss);						$data['toss_decision'] = $matchValidity['result']->decision;					}					else					{						$data['status'] = 'NOTOK';						$data['msg'] = $matchValidity['msg'];					}				}			}			else			{				$data['status'] = 'NOTOK';				$data['msg'] = $keyValidity['msg'];			}		}		else		{			$data['status'] = 'NOTOK';			$data['msg'] = 'Stream key not present in URL.';		}		$data['page'] = 'stream_view';		$this->load->view("templates/stream", $data);			}}